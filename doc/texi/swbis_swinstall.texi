\input texinfo   @c -*-texinfo-*-
@setfilename swinstall.info
@comment direntry.in
@dircategory Individual utilities
@direntry
* swinstall: (swbis).               install POSIX format packages
@end direntry
@comment ===============================================================
@comment WARNING: Do NOT edit this file.  It was produced automatically
@comment by man2info on Fri Nov  2 20:39:29 EDT 2018
@comment for jhl@
@comment from man/man8/swinstall.8
@comment in /home/jhl/swbis-1.13.1/doc
@comment ===============================================================

@comment @documentencoding ISO-8859-1

@comment troff -man typesetting style: headers, footers, no paragraph indentation

@paragraphindent none

@iftex
@parskip = 0.5@normalbaselineskip plus 3pt minus 1pt
@end iftex

@set lq ``
@set rq ''

@comment TROFF INPUT: ...\" $Header: /usr/src/docbook-to-man/cmd/RCS/docbook-to-man.sh,v 1.3 1996/06/17 03:36:49 fld Exp $
@comment ...\" $Header: /usr/src/docbook-to-man/cmd/RCS/docbook-to-man.sh,v 1.3 1996/06/17 03:36:49 fld Exp $
@comment TROFF INPUT: ...\"
@comment ...\"
@comment TROFF INPUT: ...\"	transcript compatibility for postscript use.
@comment ...\"	transcript compatibility for postscript use.
@comment TROFF INPUT: ...\"
@comment ...\"
@comment TROFF INPUT: ...\"	synopsis:  .P! <file.ps>
@comment ...\"	synopsis:  .P! <file.ps>
@comment TROFF INPUT: ...\"
@comment ...\"
@comment TROFF INPUT: .de P!
@comment .de P!
\.
@comment TROFF INPUT: .fl			\" force out current output buffer
@comment .fl			\" force out current output buffer
\\!%PB
\\!/showpage@{@}def
@comment TROFF INPUT: ...\" the following is from Ken Flowers -- it prevents dictionary overflows
@comment ...\" the following is from Ken Flowers -- it prevents dictionary overflows
\\!/tempdict 200 dict def tempdict begin
@comment TROFF INPUT: .fl			\" prolog
@comment .fl			\" prolog
@comment TROFF INPUT: .sy cat \\$1\" bring in postscript file
@comment .sy cat \\$1\" bring in postscript file
@comment TROFF INPUT: ...\" the following line matches the tempdict above
@comment ...\" the following line matches the tempdict above
\\!end % tempdict %
\\!PE
\\!.
@comment TROFF INPUT: .sp \\$2u	\" move below the image
@comment .sp \\$2u	\" move below the image
@comment TROFF INPUT: ..
@comment ..
@comment TROFF INPUT: .de pF
@comment .de pF
@comment TROFF INPUT: .ie     \\*(f1 .ds f1 \\n(.f
@comment .ie     \\*(f1 .ds f1 \\n(.f
@comment TROFF INPUT: .el .ie \\*(f2 .ds f2 \\n(.f
@comment .el .ie \\*(f2 .ds f2 \\n(.f
@comment TROFF INPUT: .el .ie \\*(f3 .ds f3 \\n(.f
@comment .el .ie \\*(f3 .ds f3 \\n(.f
@comment TROFF INPUT: .el .ie \\*(f4 .ds f4 \\n(.f
@comment .el .ie \\*(f4 .ds f4 \\n(.f
@comment TROFF INPUT: .el .tm ? font overflow
@comment .el .tm ? font overflow
@comment TROFF INPUT: .ft \\$1
@comment .ft \\$1
@comment TROFF INPUT: ..
@comment ..
@comment TROFF INPUT: .de fP
@comment .de fP
@comment TROFF INPUT: .ie     !\\*(f4 \{\
@comment .ie     !\\*(f4 \@{\
@comment TROFF INPUT: .	ft \\*(f4
@comment .	ft \\*(f4
@comment TROFF INPUT: .	ds f4\"
@comment .	ds f4\"
'	br \@}
@comment TROFF INPUT: .el .ie !\\*(f3 \{\
@comment .el .ie !\\*(f3 \@{\
@comment TROFF INPUT: .	ft \\*(f3
@comment .	ft \\*(f3
@comment TROFF INPUT: .	ds f3\"
@comment .	ds f3\"
'	br \@}
@comment TROFF INPUT: .el .ie !\\*(f2 \{\
@comment .el .ie !\\*(f2 \@{\
@comment TROFF INPUT: .	ft \\*(f2
@comment .	ft \\*(f2
@comment TROFF INPUT: .	ds f2\"
@comment .	ds f2\"
'	br \@}
@comment TROFF INPUT: .el .ie !\\*(f1 \{\
@comment .el .ie !\\*(f1 \@{\
@comment TROFF INPUT: .	ft \\*(f1
@comment .	ft \\*(f1
@comment TROFF INPUT: .	ds f1\"
@comment .	ds f1\"
'	br \@}
@comment TROFF INPUT: .el .tm ? font underflow
@comment .el .tm ? font underflow
@comment TROFF INPUT: ..
@comment ..
@comment TROFF INPUT: .ds f1\"

@comment WARNING: man/man8/swinstall.8:49:%%unrecognized define-string command: [.ds f1\"]

@comment TROFF INPUT: .ds f2\"

@comment WARNING: man/man8/swinstall.8:50:%%unrecognized define-string command: [.ds f2\"]

@comment TROFF INPUT: .ds f3\"

@comment WARNING: man/man8/swinstall.8:51:%%unrecognized define-string command: [.ds f3\"]

@comment TROFF INPUT: .ds f4\"

@comment WARNING: man/man8/swinstall.8:52:%%unrecognized define-string command: [.ds f4\"]

@comment TROFF INPUT: .ta 8n 16n 24n 32n 40n 48n 56n 64n 72n
@comment .ta 8n 16n 24n 32n 40n 48n 56n 64n 72n
@comment TROFF INPUT: .TH "swinstall" "8"

@headings off
@everyheading SWINSTALL(8) @| @| SWINSTALL(8)
@everyfooting  @| @thispage @|

@node Top

@chapter swinstall" "8


@comment TROFF INPUT: .hy 0
@comment .hy 0
@comment TROFF INPUT: .if n .na
@comment .if n .na
@comment TROFF INPUT: .SH "NAME"
@c DEBUG: print_menu("Top")

@ifnottex
@menu
* NAME::
* SYNOPSIS::
* DESCRIPTION::
* OPTIONS::
* INSTALLATION::
* INSTALLED SOFTWARE CATALOG::
* IMPLEMENTATION EXTENSIONS::
* EXTENDED OPTIONS::
* RETURN VALUE::
* NOTES::
* REQUISITE UTILITIES::
* FILES::
* APPLICABLE STANDARDS::
* SEE ALSO::
* IDENTIFICATION::
* BUGS::

@end menu
@end ifnottex

@comment MAN2TEXI: EON

@node NAME

@section NAME

swinstall @r{---} Install POSIX and RPM packages.
@comment TROFF INPUT: .SH "SYNOPSIS"
@c DEBUG: print_menu("NAME")
@comment MAN2TEXI: EON

@node SYNOPSIS

@section SYNOPSIS

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
@b{swinstall} [-p] [-r] [-s @i{source@t{_}file}] [-f @i{file}] \\
[-t @i{targetfile}] [-x @i{option=value}]  [-X @i{options@t{_}file}] [-W @i{option}] \\
[software@t{_}selections] [@@target [target1...]]
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
@b{swinstall} -s -    # Minimum unambiguous invocation.
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------

@comment TROFF INPUT: .SH "DESCRIPTION"
@c DEBUG: print_menu("SYNOPSIS")
@comment MAN2TEXI: EON

@node DESCRIPTION

@section DESCRIPTION

@comment TROFF INPUT: .PP

@b{swinstall} installs a POSIX distribution from a source archive to a target
directory.  A POSIX distribution is a package, typically a compressed tarball with metadata files in the prescribed file layout.
Neither swinstall nor any component of swbis is required
on the target host, however, the target host must look like a Unix system at
the shell and command-line utility level and have a POSIX shell.
Remote network connections are made by ssh.
Ssh is the default but rsh can be selected by a command line
option.
@comment TROFF INPUT: .PP

By default and with no external influences (i.e. swdefaults file) swinstall
will read an archive on stdin and install all products and filesets of package
in "/" directory on the target host.  An alternate root may be specified using
the target syntax.  The distribution source directory (swbis default: stdin)
is selectable via the defaults file, therefore it should be specified in
uncontrolled environments.
@comment TROFF INPUT: .PP

@b{swinstall} operates on  cpio or tar archives.
swinstall supports cpio archives by first translating to tar format, therefore,
to reduce the data transformations performed by swinstall, distributors encouraged to
deliver products in tar format.
@comment TROFF INPUT: .PP

@b{swinstall} will create an entry in an installed software catalog.  This is a directory
usually located at /var/lib/swbis/catalog.  Using this information
checks for upgrade, downdate, dependencies, and reinstallation are made.
@comment TROFF INPUT: .SH "OPTIONS"
@c DEBUG: print_menu("DESCRIPTION")
@comment MAN2TEXI: EON

@node OPTIONS

@section OPTIONS

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-f FILE}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Reads software@t{_}selections from FILE. (Not implemented).
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-p}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Preview the operation.
Depending on the verbose level information is written to stdout.
The target is not modified although a remote connection is established.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------

@comment TROFF INPUT: .PP

@b{-r}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

This option has no affect.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------

@comment TROFF INPUT: .PP

@b{-s SOURCE}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Specify the source file SOURCE, "-" is standard input.
The syntax is the same as for a target.
SOURCE may be an archive file or stdin.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-t targetfile}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Specify a file containing a list of targets (one per line).
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-x option=value}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Specify the extended option overriding the defaults file value.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-X FILE}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Specify the extended options filename, FILE,  overriding the default filenames.
This option may be given more then once. If the resulting specified value is an empty string
then reading of any options file is disabled.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-v}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Given one time it is identical to -x verbose=2.
This option can be given multiple times with increasing effect.
(Implementation extension option).
@comment TROFF INPUT: .br
@comment .br
-v  is level 2, -vv is level 3,... etc.
@comment TROFF INPUT: .br
@comment .br
    level 0: silent on stdout and stderr.
@comment TROFF INPUT: .br
@comment .br
    level 1: fatal and warning messages to stderr.
@comment TROFF INPUT: .br
@comment .br
-v  level 2: level 1 plus a progress bar.
@comment TROFF INPUT: .br
@comment .br
-vv level 3: level 2 plus script stderr.
@comment TROFF INPUT: .br
@comment .br
-vvv level 4: level 3 plus events.
@comment TROFF INPUT: .br
@comment .br
-vvvv level 5: level 4 plus events.
@comment TROFF INPUT: .br
@comment .br
-vvvvv level 6: level 5 plus set shell -vx option.
@comment TROFF INPUT: .br
@comment .br
-vvvvvv level 7 and higher: level 6 plus debugging messages.
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{@minus{}@minus{}version, -V}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Show version (Implementation extension)
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{@minus{}@minus{}help}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Show help (Implementation extension)
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W option[,option,...]}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Specify the implementation extension option.
@comment TROFF INPUT: .br
@comment .br
Syntax: -W option[=option@t{_}argument[,option...]
@comment TROFF INPUT: .br
@comment .br
Options may be separated by a comma.  The implementation extension
options may also be given individually using the '--long-option[=option@t{_}arg]' syntax.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W preview-tar-file=FILE}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

This is a testing/development option.
Writes the fileset archive to FILE.  This is the same data stream that would have been loaded on the target.
This option should only be used with the '-p' option.  The output sent to FILE is a tar archive but without
trailer blocks.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W remote-shell=NAME}

@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Defaults File Option: @b{swbis@t{_}remote@t{_}shell@t{_}client}
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------

@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
This is the remote connection client program on the management (originating host).
The path NAME may be an absolute path (not located in $PATH).
The basename of NAME is used for intermediate hops.
Supported shells are "ssh" and "rsh".
The default is "ssh".
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W quiet-progress}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Defaults File Option: @b{swbis@t{_}quiet@t{_}progress@t{_}bar} Disable progress bar, which is active for verbose levels 2 and higher (i.e. -v).
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W show-options-files}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Show the complete list of options files and if they are found.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W show-options}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Show the options after reading the files and parsing the command line options.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W pax-command=@{tar|pax|star|gtar@}}
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the portable archive command for all operations.
The default is "pax".
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W pax-read-command=@{tar|pax|star|gtar@}}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the read command for local and remote hosts.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W remote-pax-read-command=@{tar|pax|star|gtar@}}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}remote@t{_}pax@t{_}read@t{_}command}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the read command for remote hosts.
This is the command that runs on the target (e.g. pax -r, tar xpf -).
The default is "pax".
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W local-pax-read-command=@{tar|pax|star|gtar@}}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}local@t{_}pax@t{_}read@t{_}command}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the read command for local hosts.
This is the command that runs on the target (e.g. pax -r, tar xpf -).
The default is "pax".
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W pax-write-command=@{tar|pax|star|gtar|swbistar@}}
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the write command for local and remote hosts.
This is the command that runs on the target (e.g. pax -w, tar cf -).
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W remote-pax-write-command=@{tar|pax|star|gtar|swbistar@}}
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}remote@t{_}pax@t{_}write@t{_}command}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the write command for remote hosts.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W local-pax-write-command=@{tar|pax|star|gtar|swbistar@}}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}local@t{_}pax@t{_}write@t{_}command}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the portable archive write command for local host operations.
This is the command that runs on the source (e.g. pax -w, tar cf -).
The default is "pax".
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W remote-pax-write-command=@{tar|pax|star|gtar|swbistar@}}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}remote@t{_}pax@t{_}write@t{_}command}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Set the portable archive write command for remote host operations.
This is the command that runs on the source (e.g. pax -w, tar cf -).
The default is "pax".
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W no-defaults}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Do not read any defaults files.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W no-remote-kill}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}no@t{_}remote@t{_}kill}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Disables the use of a second remote connection to tear down the first in
the event of SIGINT or SIGTERM or SIGPIPE.
Only has effect if the number of ssh hops is greater than 1.
A single host remote connection (ssh hop = 1) never uses a
second remote connection.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W no-getconf}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}no@t{_}getconf}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Makes the remote command be '/bin/sh -s' instead of the default
'PATH=`getconf PATH` sh -s'.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W shell-command=NAME}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}shell@t{_}command}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
This is the interactive shell on the target host.
NAME may be one of "detect" "bash", "sh", "ksh"  or "posix" and specifies the
remote command run by the remote shell.
"posix" is 'PATH=`getconf PATH` sh -s', "bash" is "/bin/bash -s",
"sh" is "/bin/sh -s", and "ksh" is "ksh -s".
The default is "detect".
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W use-getconf}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Opposite of @minus{}@minus{}no-getconf.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W allow-rpm}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Defaults File Option: @b{swbis@t{_}allow@t{_}rpm}
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Enable automatic detection, translation to POSIX format, and installation of RPMs.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W pump-delay1=NANOSECONDS}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Adds a NANOSECONDS delay (999999999 nanoseconds ~ 1 second) every ADJSIZE bytes in
the file data byte pump.  A delay of 10111000 nanoseconds (~1/100th second) is added
for 2-hop or greater target (i.e more than 1 remote host in the target spec).
This is a work around for a bug in OpenSSH [or Linux kernel] that is seen for multi-hop
installs where the intermediate host is a Linux kernel.  If 2-hop install fails, try it
again, you may get lucky, or, increase this delay, or, use ssh protocol version 1 by
using ''--ssh-options=1'', or try a 2-hop install where the middle host is BSD.
To disable delay for multi-hop targets specify zero.
For more information about this bug see the README file from the source distribution.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W burst-adjust=ADJSIZE}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
ADJSIZE is the pumped data size, in bytes, between the NANOSECONDS delays.
This is a work around for a bug in OpenSSH or the Linux kernel that is
seen for multi-hop installs where the intermediate host is a Linux kernel.
The default is 72000 for 2-hops or greater, and zero for
single hop and localhost installs.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W ssh-options=OPTIONS}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
ssh client program options.  For example -W ssh-options=1 sets the
'-1' ssh client option which specifies protocol version 1.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W source-script-name=NAME}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Write the script that is written into the remote shell's stdin to NAME.
This is useful for debugging.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{-W target-script-name=NAME}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation
Write the script that is written into the remote shell's stdin to NAME.
This is useful for debugging.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@b{software@t{_}selections}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Refers to the software objects (products, filesets)
on which to be operated. This is not implemented, however, specification of a
@b{location} and @b{qualifier} are supported.
@b{location} allow specification of a alternate relative root path
within the target path, and @b{qualifier} allows specification of a
user-selectable modifier.  For example:
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
swinstall q=exp @@ 192.168.1.1  # Tag the package as experimental
swinstall l=/unionfs/somepackage-1.0 @@ 192.168.1.1  # Allows multiple
                              # packages with same tag to exist in the
                              # same target path, where the location
                              # disambiguates.@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------

@comment TROFF INPUT: .PP


@comment WARNING: man/man8/swinstall.8:426:%%new font B started without closing previous font R

}@b{target}
@comment TROFF INPUT: .RS

@c ---------------------------------------------------------------------
@quotation

Refers to the software@t{_}collection where the software
selections are to be applied.  Allows specification of host and pathname where the software collection is to be located.
A target that contains only one part is assumed to be a hostname.
To force interpretation as a path, use an absolute path or prefix with ':'.  The default target path for 'swinstall' is always '/'.
@comment TROFF INPUT: .RE

@end quotation

@c ---------------------------------------------------------------------

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
Source and Target Specification and Logic

     Synopsis:
          Posix:
               host[:path]
               host
               host:
               /path  # Absolute path

          Swbis Extension:
               [user@@]host[:path]
               [user@@]host@t{_}port[:path]
               :path

          Swbis Multi-hop Target Extension:
               # ':' is the target delimiter
	       # '@t{_}' delimits a port number in the host field

               [user@@]host[@@@@[user@@]host[@@@@...]][:file]
               [user@@]host@t{_}port[@@@@[user@@]host[@@@@...]][:file]

               # Using ':', a trailing colon is used to
               # disambiguate between a host and file.
	       # For Example,
               :file
               host:
               host
               host:file
               host:host:
               host@t{_}port:host@t{_}port:
               host:host:file
               user@@host:user@@host:
               user@@host:user@@host:host:
               user@@host:user@@host:file

     A more formal description:

     target : HOST@t{_}CHARACTER@t{_}STRING ':' PATHNAME@t{_}CHARACTER@t{_}STRING
            | HOST@t{_}CHARACTER@t{_}STRING ':'
            | HOST@t{_}CHARACTER@t{_}STRING
            | PATHNAME@t{_}CHARACTER@t{_}STRING
            | ':' PATHNAME@t{_}CHARACTER@t{_}STRING   # Impl extension
            ;

       PATHNAME@t{_}CHARACTER@t{_}STRING must be an absolute path unless
                       a HOST@t{_}CHARACTER@t{_}STRING is given.  Allowing
                       a relative path is a feature of the swbis
                       implementation.

                NOTE: A '.' as a target is an implementation
                      extension and means extract in current
                      directory.

                NOTE: A '-' indicating stdout/stdin is an
                      implementation extension.

                NOTE: A ':' in the first character indicates a filename.
                      This is an implementation extension.

       HOST@t{_}CHARACTER@t{_}STRING is an IP or hostname.

    Examples:
       Copy the  distribution /var/tmp/foo.tar.gz at 192.168.1.10
              swcopy -s /var/tmp/foo.tar.gz @@192.168.1.10:/root


Implementation Extension Syntax (multi ssh-hop) :
    Syntax:
    %start   wtarget    # the Implementation Extension Target
                        # Note: a trailing ':' forces interpretation
                        # as a host, not a file.
    wtarget   : wtarget DELIM sshtarget
              | sshtarget
              | sshtarget DELIM
              ;
    sshtarget : user '@@' target # Note: only the last target
              | target          # may have a PATHNAME, and only a host
              ;                 * may have a user
    target   : HOST@t{_}CHARACTER@t{_}STRING
             | PATHNAME@t{_}CHARACTER@t{_}STRING
             ;
    user     : PORTABLE@t{_}CHARACTER@t{_}STRING  # The user name

    DELIM    : ':'   # The multi-hop delimiter.
             ;  @r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP



@comment TROFF INPUT: .SH "INSTALLATION"
@c DEBUG: print_menu("OPTIONS")
@comment MAN2TEXI: EON

@node INSTALLATION

@section INSTALLATION

@comment TROFF INPUT: .PP

Installation consists of an analysis phase and an execution phase.
@comment TROFF INPUT: .SS "Analysis Phase"
@c DEBUG: print_menu("INSTALLATION")

@ifnottex
@menu
* Analysis Phase::
* Execution Phase::
* o Execution Script Environment::

@end menu
@end ifnottex

@comment MAN2TEXI: EON

@node Analysis Phase

@subsection Analysis Phase

@comment TROFF INPUT: .PP

The installed software catalog is queried and checks are made to detect reinstallation, downdating
(installing an older version).  Dependency tests are made at this point.  If these checks pass or
are overridden by options, then the installed software catalog entry is created (moving the old entry).

@comment WARNING: man/man8/swinstall.8:534:%%new font B started without closing previous font R

The }@b{checkinstall} script is exectuted.  This script should be non-interactive,
idempotent, and read-only from the system's perspective.  This script may exit with status of 0,1,2, or 3.
If the exit status is 3 (or 1) installation is rejected and the installed catalog is restored.
@comment TROFF INPUT: .SS "Execution Phase"
@comment MAN2TEXI: EON

@node Execution Phase

@subsection Execution Phase

@comment TROFF INPUT: .PP

The @b{preinstall} script is executed, the fileset files are loaded by the
system tar utility and @b{postinstall} is executed.
@comment TROFF INPUT: .SS "o   Execution Script Environment"
@comment MAN2TEXI: EON

@node o Execution Script Environment

@subsection o   Execution Script Environment

@comment TROFF INPUT: .PP

@b{swinstall} sets certain enviroment variables during execution.
The values set are hard-coded in the @b{control.sh} script generated by swinstall.
@comment TROFF INPUT: .PP

For example, execution of the @b{postinstall} script in
package @i{foobar-1.0.tar.gz} with the following layout
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
foobar-1.0/
foobar-1.0/@b{catalog}/
foobar-1.0/@b{catalog}/@b{INDEX}
@comment TROFF INPUT: .br
@comment .br
foobar-1.0/@b{catalog}/dfiles/
foobar-1.0/@b{catalog}/foobar/
foobar-1.0/@b{catalog}/foobar/pfiles/
foobar-1.0/@b{catalog}/foobar/pfiles/@b{INFO}
@comment TROFF INPUT: .br
@comment .br
foobar-1.0/@b{catalog}/foobar/pfiles/@b{postinstall}
@comment TROFF INPUT: .br
@comment .br
foobar-1.0/@b{catalog}/foobar/bin/
@comment TROFF INPUT: .br
@comment .br
foobar-1.0/@b{catalog}/foobar/bin/@b{INFO}
@comment TROFF INPUT: .br
@comment .br
@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

installed with the following command:
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
swinstall -x installed@t{_}software@t{_}catalog=/var/software/catalog \\

@comment WARNING: man/man8/swinstall.8:575:%%new font R started without closing previous font R

		@@ /mnt/test}
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
will result in the following environment (among others, inspect @b{control.sh}):
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment TROFF INPUT: .br
@comment .br
     SW@t{_}PATH=/bin:/usr/bin
     SW@t{_}ROOT@t{_}DIRECTORY=/mnt/test
     SW@t{_}CATALOG=var/software/catalog/foobar/foobar/1.0/0
     SW@t{_}CONTROL@t{_}TAG= postinstall
     SW@t{_}CONTROL@t{_}DIRECTORY=/mnt/test/var/software/catalog/\\
			foobar/foobar/1.0/0/export/foobar-1.0/catalog/foobar/pfiles
     SW@t{_}SESSION@t{_}OPTIONS=/mnt/test/var/software/catalog/\\
			foobar/foobar/1.0/0/session@t{_}options@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP


@comment WARNING: man/man8/swinstall.8:595:%%new font B started without closing previous font R

}@b{SW@t{_}PATH} is constructed using getconf(1) to locate the posix level utilites, otherwise it is
the same as @b{PATH}.
@comment TROFF INPUT: .PP

If the interpreter attribute from the @b{INFO} file, is 'sh' or unset, the executed shell interpreter
is /bin/bash,  sh as found in the PATH specified by getconf(1),  or /bin/sh in this order.
@comment TROFF INPUT: .PP

As of swbis-1.12 (Version 1.12), control script execution begins with a
current working directory ($PWD) of
@b{SW@t{_}ROOT}.
Prior to version 1.12, initial current working directory was equivalent to @b{$SW@t{_}ROOT/$SW@t{_}CATALOG}.

@comment TROFF INPUT: .SH "INSTALLED SOFTWARE CATALOG"
@comment MAN2TEXI: EON

@node INSTALLED SOFTWARE CATALOG

@section INSTALLED SOFTWARE CATALOG

@comment TROFF INPUT: .PP

The form or format of an installed software catalog is
not specified by the ISO/IEC spec although it does specify
an interface to it (e.g. swlist utility) and operations on it.
@comment TROFF INPUT: .PP

This implementation creates a de-facto installed software catalog rooted at the file system path specified by the value of the
installed@t{_}software@t{_}catalog extended option.  The catalog is a file system hierarchy containing regular files
and directories.
@comment TROFF INPUT: .PP

The catalog is typically located relative to the target path.  As of swbis version 1.5, the catalog location
may be specified using the file URL syntax to indicate an absolute path.  Any other form, such as an unadorned
absolute UNIX path will be treated as a path relative to the target path.
@comment TROFF INPUT: .PP

For Example:
@comment TROFF INPUT: .br
@comment .br
Below are example values of the
@i{installed@t{_}software@t{_}catalog} extended option found in
the @b{swdefaults} file usually located in
$HOME/.swbis/swdefaults

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment TROFF INPUT: .br
@comment .br
   var/lib/swbis/catalog   # Default, relative to target path

   /var/lib/swbis/catalog  # Same, leading slash not respected

   file://localhost/var/lib/swbis/catalog  # Really absolute

   file:///var/lib/swbis/catalog           # Note triple leading slash@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP


@comment TROFF INPUT: .SS "CATALOG FILE LAYOUT"
@c DEBUG: print_menu("INSTALLED SOFTWARE CATALOG")

@ifnottex
@menu
* CATALOG FILE LAYOUT::
* CATALOG LOCATION::
* * Root or Alternate Root::
* * Catalog Relative Root Directory::
* PACKAGE CATALOG RELATIVE ROOT::
* CATALOG SEQUENCE NUMBER::
* CATALOG CONTENTS::
* The export directory::
* INSTALLED -- The state metadata file::
* control sh -- The master control script::
* session@t{_}options -- The extended options::
* EXAMPLE CATALOG ENTRY::

@end menu
@end ifnottex

@comment MAN2TEXI: EON

@node CATALOG FILE LAYOUT

@subsection CATALOG FILE LAYOUT

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment TROFF INPUT: .br
@comment .br

@comment WARNING: man/man8/swinstall.8:647:%%new font I started without closing previous font R

 <}@i{path}>/
 <@i{path}>/<@i{ISC}>/
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{seqence@t{_}number}>/
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{export}/
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{export}/@b{catalog.tar}
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{export}/@b{catalog.tar.sig}
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{export}/@b{catalog.tar.sig}<@i{N}>
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{INSTALLED}
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{control.sh}
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{session@t{_}options}
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{vendor@t{_}tag}
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{location}
 <@i{path}>/<@i{ISC}>/<@i{bundle}>/<@i{product}>/<@i{pr}>/<@i{sequence@t{_}number}>/@b{qualifier} @r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP


@comment WARNING: man/man8/swinstall.8:666:%%new font I started without closing previous font R

<}@i{path}> is the target path.
<@i{ISC}> is the value of the installed@t{_}software@t{_}cataglog extended option.
<@i{bundle}> and <@i{product}> are bundle and product tags.
If there is no bundle in the distribution the product tag is used.
<@i{pr}> is the product revision.  Other items are explained below.
@comment TROFF INPUT: .SS "CATALOG LOCATION"
@comment MAN2TEXI: EON

@node CATALOG LOCATION

@subsection CATALOG LOCATION

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
/<@i{path}>/
/<@i{path}>/<@i{installed@t{_}software@t{_}catalog}>/
/<@i{path}>/<@i{installed@t{_}software@t{_}catalog}>/...@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SS "    * Root or Alternate Root"
@comment MAN2TEXI: EON

@node * Root or Alternate Root

@subsection * Root or Alternate Root

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment WARNING: man/man8/swinstall.8:684:%%new font I started without closing previous font R

/<}@i{path}>/
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

<@i{path}>/
is the target path specified in the target syntax. By default "/".
@comment TROFF INPUT: .SS "    * Catalog Relative Root Directory"
@comment MAN2TEXI: EON

@node * Catalog Relative Root Directory

@subsection * Catalog Relative Root Directory

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
/<@i{path}>/
/<@i{path}>/<@i{installed@t{_}software@t{_}catalog}>/
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

<@i{installed@t{_}software@t{_}catalog}>/
is the value of the extended option by the same name.  By default "var/lib/swbis/catalog".
@comment TROFF INPUT: .SS "PACKAGE CATALOG RELATIVE ROOT"
@comment MAN2TEXI: EON

@node PACKAGE CATALOG RELATIVE ROOT

@subsection PACKAGE CATALOG RELATIVE ROOT

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
/<@i{@{bundle|prod@}.tag}>/<@i{prod.tag}>/<@i{prod.revision}>/...@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

 In other words, if 'product' and 'bundle' refers to tags, and
product@t{_}revision is the value of the product.revision attribute then
the path segment is:
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment WARNING: man/man8/swinstall.8:712:%%new font R started without closing previous font R

 /bundle/product/product@t{_}revision}
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SS "CATALOG SEQUENCE NUMBER"
@comment MAN2TEXI: EON

@node CATALOG SEQUENCE NUMBER

@subsection CATALOG SEQUENCE NUMBER

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
 /<@i{sequence@t{_}number}>/
 /<@i{sequence@t{_}number}>/...@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP


@comment WARNING: man/man8/swinstall.8:725:%%new font I started without closing previous font R

}@i{sequence@t{_}number} is a decimal integer starting with '0'.
It is chosen by swinstall to be unique at the time of installation.
@comment TROFF INPUT: .SS "CATALOG CONTENTS"
@comment MAN2TEXI: EON

@node CATALOG CONTENTS

@subsection CATALOG CONTENTS

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
<@i{sequence@t{_}number}>/
 <@i{sequence@t{_}number}>/@b{export}/
 <@i{sequence@t{_}number}>/@b{export}/@b{catalog.tar}
 <@i{sequence@t{_}number}>/@b{export}/@b{catalog.tar.sig}
 <@i{sequence@t{_}number}>/@b{INSTALLED}
 <@i{sequence@t{_}number}>/@b{control.sh}
 <@i{sequence@t{_}number}>/@b{session@t{_}options}
 <@i{sequence@t{_}number}>/@b{vendor@t{_}tag}
 <@i{sequence@t{_}number}>/@b{location}
 <@i{sequence@t{_}number}>/@b{qualifier} @r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SS "    The export directory"
@comment MAN2TEXI: EON

@node The export directory

@subsection The export directory

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment WARNING: man/man8/swinstall.8:749:%%new font B started without closing previous font R

 }@b{export}/
 @b{export}/...
 @b{export}/@b{catalog.tar}
 @b{export}/@b{catalog.tar.sig}
 @b{export}/@b{catalog.tar.sig2}
               ...
 @b{export}/@b{catalog.tar.sig}@i{N}@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP


@comment WARNING: man/man8/swinstall.8:759:%%new font B started without closing previous font R

The }@b{export}/ is a file system directory and its name is constant for all
packages and is unique to the swbis implementation.
The @b{export}/@b{catalog.tar} file is the signed file from the POSIX
distribution.
The @b{export}/@b{catalog.tar.sig} file is the signature file
from the distribution.  If there is more than one signature, then it is the last one.
@b{export}/@b{catalog.tar.sig2} is the next to
last signature, and @b{export}/@b{catalog.tar.sig}@i{N} is
the first one, where @i{N} is the total number of signatures.
@comment TROFF INPUT: .SS "    INSTALLED -- The state metadata file"
@comment MAN2TEXI: EON

@node INSTALLED -- The state metadata file

@subsection INSTALLED -- The state metadata file

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
 <@i{sequence@t{_}number}>/@b{INSTALLED} @r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

The INSTALLED file is similar to an INDEX file in its grammar and syntax.  Unlike an INDEX file, it may contain
control@t{_}file definitions.
The INSTALLED file stores the control script return codes and fileset installation state.  It is updated several times during the
operation of 'swinstall'.  It can be parsed using  libexec/swbisparse and the '--installed' option.
@comment TROFF INPUT: .SS "    control\&.sh -- The master control script"
@comment MAN2TEXI: EON

@node control sh -- The master control script

@subsection control.sh -- The master control script

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment WARNING: man/man8/swinstall.8:786:%%new font I started without closing previous font R

 <}@i{sequence@t{_}number}>/@b{control.sh}
  SYNOPSIS: @b{control.sh} @i{tag@t{_}spec} @i{script@t{_}tag}@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

The control.sh file is a POSIX shell script that is automatically generated by swinstall.  It provides a common interface for
control script execution.  Its primary purpose is to set up the script's execution environment and map script tags to the
control script pathnames.  It assumes that 'export/catalog.tar' is unpacked in export/.
@comment TROFF INPUT: .SS "    session_options -- The extended options"
@comment MAN2TEXI: EON

@node session@t{_}options -- The extended options

@subsection session@t{_}options -- The extended options

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment WARNING: man/man8/swinstall.8:799:%%new font I started without closing previous font R

 <}@i{sequence@t{_}number}>/@b{session@t{_}options} @r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

This file contains the extended options in a form that may be executed by the shell '.' (dot) command.
It is automatically generated by swinstall.  The value of the SW@t{_}SESSION@t{_}OPTIONS environment variable is the absolute
pathname of the this file.
@comment TROFF INPUT: .SS "EXAMPLE CATALOG ENTRY"
@comment MAN2TEXI: EON

@node EXAMPLE CATALOG ENTRY

@subsection EXAMPLE CATALOG ENTRY

@comment TROFF INPUT: .PP

Below is an example entry of the catalog created by swbis version 0.405.

@comment WARNING: man/man8/swinstall.8:809:%%new font I started without closing previous font R

In this example, the target path is '/mnt/test', the }@i{installed@t{_}software@t{_}catalog} is '/var/lib/swbis/catalog/', the
bundle tag is 'foobare', the product tag is 'foobare-doc', and the product revision attribute is '0.902'.
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/export
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/export/catalog.tar
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/export/catalog.tar.sig
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/INSTALLED
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/control.sh
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/vendor@t{_}tag
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/location
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/qualifier
/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/0/session@t{_}options@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

 A deleted old catalog entry begin with '@t{_}', for example
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display

@comment WARNING: man/man8/swinstall.8:827:%%new font R started without closing previous font R

/mnt/test/var/lib/swbis/catalog/foobare/foobare-doc/0.902/@t{_}0/...}
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

Although swinstall does not depend on the file name as this accommodates installing from
standard input, a typical name for this package would be:
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
       foobare-doc-0.902-sl04.tar.gz@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

 where 'sl04' is the vendor tag.
@comment TROFF INPUT: .SH "IMPLEMENTATION EXTENSIONS"
@comment MAN2TEXI: EON

@node IMPLEMENTATION EXTENSIONS

@section IMPLEMENTATION EXTENSIONS

@comment TROFF INPUT: .SS "Software Specification Targets"
@c DEBUG: print_menu("IMPLEMENTATION EXTENSIONS")

@ifnottex
@menu
* Software Specification Targets::
* RPM Translation::
* Testing with RPM::

@end menu
@end ifnottex

@comment MAN2TEXI: EON

@node Software Specification Targets

@subsection Software Specification Targets

@comment TROFF INPUT: .PP

A dash '-' is supported and means stdout or stdin.
Operations with stdout and stdin on a remote host is not supported.
@comment TROFF INPUT: .PP

A decimal '.' is supported and means the current directory.
This is supported for remote and non-remote targets.
If the source is standard input, the distribution will be unpacked
(e.g. pax -r) in the directory '.'.
If the source is a regular file then a regular file in '.' will be created
with the same name.

@comment TROFF INPUT: .SS "RPM Translation"
@comment MAN2TEXI: EON

@node RPM Translation

@subsection RPM Translation

@comment TROFF INPUT: .PP

RPM (RedHat Package Manager) format packages are installed by first translating to
an equivalent ISO/IEEE file layout in POSIX tar format and then installing as
a POSIX package.  This translation and detection is transparent to the user if
the ''--allow-rpm'' option is set in the command line args or the swbis@t{_}allow@t{_}rpm
is set to "true" by the defaults files, otherwise an error occurs.
@comment TROFF INPUT: .PP

Since translation is done on the local (management) host, RPM is not required on
the remote (target) host.
@comment TROFF INPUT: .PP

The translation is (internally) equivalent to :
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
   cat your-0.0-1.bin.rpm |
   /usr/lib/swbis/lxpsf --psf-form2 -H ustar |

@comment WARNING: man/man8/swinstall.8:868:%%new font R started without closing previous font R

   swpackage -W source=- -s @@PSF | swinstall -s - @@/}
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SS "Testing with RPM"
@comment MAN2TEXI: EON

@node Testing with RPM

@subsection Testing with RPM

 To test the swbis components, a completely independent means to install and
verify a package is needed.  RPM provides this means and can be used in the
following way:
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
   rpm -i --nodeps --force your-0.0-1.i386.rpm  # Install
   rpm --verify --nodeps your-0.0-1             # Show that all is well
   rpm -e --nodeps your-0.0-1                   # Remove it.
   rpm -i --nodeps --justdb your-0.0-1.i386.rpm # Install just the database.
   rpm --verify --nodeps your-0.0-1             # Shows the files are missing.
   swinstall --allow-rpm -s - < your-0.0-1.i386.rpm
   rpm --verify --nodeps your-0.0-1             # Show that all is well again@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SH "EXTENDED OPTIONS"
@comment MAN2TEXI: EON

@node EXTENDED OPTIONS

@section EXTENDED OPTIONS

@comment TROFF INPUT: .PP

Extended options can be specified on the command line using the -x option
or from the defaults file, swdefaults.  Shown below is an actual portion of
a defaults file which show default values.
@comment TROFF INPUT: .SS "POSIX"
@c DEBUG: print_menu("EXTENDED OPTIONS")

@ifnottex
@menu
* POSIX::
* Swbis Implementation::

@end menu
@end ifnottex

@comment MAN2TEXI: EON

@node POSIX

@subsection POSIX

@comment TROFF INPUT: .PP

These options are set in the /usr/lib/swbis/swdefaults or the ~/.swdefaults
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
  allow@t{_}downdate              = false      # Not Implemented
  allow@t{_}incompatible          = false      # Not Implemented
  ask                         = false      # Not Implemented
  autoreboot                  = false      # Not Implemented
  autorecover                 = false      # Not Implemented
  autoselect@t{_}dependencies     = false      # Not Implemented
  defer@t{_}configure             = false      # Not Implemented
  distribution@t{_}source@t{_}directory   = -	     # Stdin
  enforce@t{_}dependencies        = false      # Not Implemented
  enforce@t{_}locatable           = false      # Not Implemented
  enforce@t{_}scripts             = false      # Not Implemented
  enforce@t{_}dsa                 = false      # Not Implemented
  installed@t{_}software@t{_}catalog  = var/lib/swbis/catalog
  logfile             = /var/lib/sw/swinstall.log #Not Implemented
  loglevel                    = 0          # Not Implemented
  reinstall                   = false      # Not Implemented
  select@t{_}local		= false      # Not Implemented

@comment WARNING: man/man8/swinstall.8:914:%%new font R started without closing previous font R

  verbose			= 1}
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SS "Swbis Implementation"
@comment MAN2TEXI: EON

@node Swbis Implementation

@subsection Swbis Implementation

@comment TROFF INPUT: .PP

These options are set in the /usr/lib/swbis/swbisdefaults or the $@{HOME@}/.swbis/swbisdefaults
file.
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
  swinstall.swbis@t{_}no@t{_}getconf = true # true or false
  swinstall.swbis@t{_}shell@t{_}command = detect # @{detect|sh|bash|ksh|posix@}
  swinstall.swbis@t{_}no@t{_}remote@t{_}kill = false # true or false
  swinstall.swbis@t{_}no@t{_}audit = false # true or false
  swinstall.swbis@t{_}quiet@t{_}progress@t{_}bar = false # true or false
  swinstall.swbis@t{_}local@t{_}pax@t{_}write@t{_}command=pax #@{pax|tar|star|gtar@}
  swinstall.swbis@t{_}remote@t{_}pax@t{_}write@t{_}command=pax #@{pax|tar|star|gtar@}
  swinstall.swbis@t{_}local@t{_}pax@t{_}read@t{_}command=pax #@{pax|tar|gtar|star@}
  swinstall.swbis@t{_}remote@t{_}pax@t{_}read@t{_}command=pax #@{pax|tar|gtar|star@}
  swinstall.swbis@t{_}enforce@t{_}sig=false # true or false
  swinstall.swbis@t{_}enforce@t{_}file@t{_}md5=false # true or false
  swinstall.swbis@t{_}allow@t{_}rpm=false # true or false
  swinstall.swbis@t{_}remote@t{_}shell@t{_}client=ssh
  swinstall.swbis@t{_}install@t{_}volatile=true
  swinstall.swbis@t{_}volatile@t{_}newname=     #empty string, e.g. ".rpmnew"@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SH "RETURN VALUE"
@comment MAN2TEXI: EON

@node RETURN VALUE

@section RETURN VALUE

@comment TROFF INPUT: .PP

0 if all targets succeeded, 1 if all targets failed, 2 if some targets failed and some succeeded.
@comment TROFF INPUT: .SH "NOTES"
@c DEBUG: print_menu("RETURN VALUE")
@comment MAN2TEXI: EON

@node NOTES

@section NOTES

 Multiple ssh-hops is an implementation extension.
@comment TROFF INPUT: .br
@comment .br
@comment TROFF INPUT: .SH "REQUISITE UTILITIES"
@c DEBUG: print_menu("NOTES")
@comment MAN2TEXI: EON

@node REQUISITE UTILITIES

@section REQUISITE UTILITIES

@comment TROFF INPUT: .PP

The swbis distributed utilities require

@comment WARNING: man/man8/swinstall.8:950:%%new font B started without closing previous font R

}@b{bash}, public domain @b{ksh}, or ksh93 (version 2009-05-05), or
Sun's /usr/xpg4/bin/sh to be present on the target host.  If the
@b{swbis@t{_}shell@t{_}command} extended option is set to 'detect'
you don't have to know which one is present, otherwise you may specify one explicitly.
@comment TROFF INPUT: .PP

A POSIX @b{awk} is required, and with the ability to
specify several thousand bytes of program text as a command argument.
GNU awk  works, as does the ATT Awk book awk, and the awk on BSD systems.
See the INSTALL file for further details regarding a small issue with the
OpenSolaris (c.2006) awk.
@comment TROFF INPUT: .SH "FILES"
@c DEBUG: print_menu("REQUISITE UTILITIES")
@comment MAN2TEXI: EON

@node FILES

@section FILES

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .PP

@comment TROFF INPUT: .nf

@c ---------------------------------------------------------------------
@display
 /var/lib/swbis/catalog # Location of installed catalog
 /usr/lib/swbis/swdefaults
 /usr/lib/swbis/swbisdefaults
 $HOME/.swbis/swdefaults
 $HOME/.swbis/swbisdefaults@r{
@comment TROFF INPUT: .fi

@end display

@c ---------------------------------------------------------------------
@comment TROFF INPUT: .PP

@comment TROFF INPUT: .SH "APPLICABLE STANDARDS"
@c DEBUG: print_menu("FILES")
@comment MAN2TEXI: EON

@node APPLICABLE STANDARDS

@section APPLICABLE STANDARDS

@comment TROFF INPUT: .PP

ISO/IEC 15068-2:1999, Open Group CAE C701
@comment TROFF INPUT: .SH "SEE ALSO"
@c DEBUG: print_menu("APPLICABLE STANDARDS")
@comment MAN2TEXI: EON

@node SEE ALSO

@section SEE ALSO

@comment TROFF INPUT: .PP

info swbis
@comment TROFF INPUT: .PP

swcopy(8), sw(5), swbisparse(1), swign(1), swverify(8), swbis(1), swbis(7)
@comment TROFF INPUT: .SH "IDENTIFICATION"
@c DEBUG: print_menu("SEE ALSO")
@comment MAN2TEXI: EON

@node IDENTIFICATION

@section IDENTIFICATION

 swinstall(8): The installation utility of the swbis project.
 Author: Jim Lowe   Email: jhlowe at acm.org
 Version: 1.13.1
 Last Updated: 2014-02-12
 Copying: GNU Free Documentation License
@comment TROFF INPUT: .SH "BUGS"
@c DEBUG: print_menu("IDENTIFICATION")
@comment MAN2TEXI: EON

@node BUGS

@section BUGS

@comment TROFF INPUT: .PP

swinstall is subject to breakage if a user's account on an intermediate
(or terminal) host in a target spec is not configured to use a Bourne
compatible shell. (This breakage may be eliminated by use of the
--no-getconf option as explained above.)
@comment TROFF INPUT: .PP

A multiple ssh hop source spec  (more than 1 remote host involved in the
source transfer) upon a SIGINT may result in sshd and ssh processes
being left on on the intermediate host(s), this despite, swinstall's action of
sending a SIGTERM to the remote script's parent process.
@comment TROFF INPUT: .PP

swinstall does not currently implement Software Selections, not fileset dependencies, and much more.
Only packages with one product and one fileset are supported.
@comment  created by instant / docbook-to-man, Fri 02 Nov 2018, 20:39
@bye
